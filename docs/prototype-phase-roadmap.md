# Prototype Phase ロードマップ

テストユーザーへのリリース（v0.1.0-alpha）を目標とした実装計画書

**目標リリース**: 2026-03-末  
**現在段階**: Phase 0 - 構成命名規則統一（進行中）  
**対象**: テストユーザー向け初期版（進行不能バグなし、基本的なゲーム性確保）

---

##  Prototype Phase 全体構成

\\\
Phase 0: 構成命名規則統一 (2026-01-20 ～ 2026-02-中旬)
Phase 1: コア機能整備 & デバッグ環境構築 (2026-02-中旬 ～ 2026-02-末)
Phase 2: ステージデザイン & ゲーム性調整 (2026-03-初旬 ～ 2026-03-中旬)
Phase 3: QA & リリース準備 (2026-03-中旬 ～ 2026-03-末)
\\\

---

## Phase 0: 構成命名規則統一 (2026-01-20 ～ 2026-02-中旬)

### 0.1 Recovery フェーズからの継続作業

**目的**: Recovery フェーズで確立した構成ルールを完全定着させる  
**優先度**:  最高  
**ステータス**: 進行中（2026-01-26現在）

#### 実装済み内容

| タスク | 完了日 | 状態 |
|--------|--------|------|
| フォルダ再構成（47フォルダ整理） | 2026-01-26 |  完了 |
| クラス名リネーム（18ファイル） | 2026-01-26 |  完了 |
| Namespace 統一（CommonsUtility） | 2026-01-26 |  完了 |
| クラス命名規則ドキュメント整備 | 2026-01-26 |  完了 |

#### 実装予定内容

| タスク | 期間 | 詳細 |
|--------|------|------|
| **ビルド検証（Phase 4）** | 2-3日 | すべてのスクリプト compile エラー排除 |
| **最終検証（Phase 5）** | 2-3日 | PlayMode 動作確認、参照パス完全修復 |
| **AGENTS.md 最終確認** | 1日 | 新規チーム開発ガイドラインの確認 |
| **Recovery フェーズ完了宣言** | - | 2026-02-初旬予定 |

**チェックリスト**:
- [ ] Assembly-CSharp.csproj compile エラー 0
- [ ] PlayMode でゲーム起動可能
- [ ] すべてのシーンプレハブの参照パス正常
- [ ] AGENTS.md の全ルール適用確認

---

### 0.2 Phase 4: ビルド検証（予定: 2026-01-27～2026-01-29）

**目的**: Recovery フェーズの構成変更がビルド可能な状態か検証

#### チェックリスト

- [ ] **CSharp コンパイル**
  - [ ] Assembly-CSharp.csproj エラーなし
  - [ ] Assembly-CSharp-Editor.csproj エラーなし
  - [ ] 警告レベルで実行可能
  
- [ ] **Unity エディタ検証**
  - [ ] エディタ開く成功
  - [ ] すべてのシーン読み込み成功
  - [ ] Console エラー 0 件
  
- [ ] **参照パス検証**
  - [ ] 壊れた参照検索修復
  - [ ] Prefab 内部参照修復
  - [ ] シーン内の GameObject 参照確認

---

### 0.3 Phase 5: 最終検証（予定: 2026-01-29～2026-02-02）

**目的**: PlayMode でゲームが基本的に動作する状態を確認

#### チェックリスト

- [ ] **PlayMode 起動**
  - [ ] ゲーム起動成功（クラッシュなし）
  - [ ] タイトル表示
  - [ ] ステージ選択可能
  
- [ ] **基本機能テスト**
  - [ ] ステージロード成功
  - [ ] ゲームプレイ可能（Move/Spawn/Attack）
  - [ ] UI 操作可能
  - [ ] ステージクリア判定動作
  
- [ ] **エラーログ確認**
  - [ ] NullReferenceException なし
  - [ ] Missing reference なし
  - [ ] Warning を最小限に削減

---

## Phase 1: コア機能整備 & デバッグ環境構築 (2026-02-中旬 ～ 2026-02-末)

### 1.1 ログシステムの統一化

**目的**: デバッグ効率化、ユーザー報告の品質向上  
**優先度**:  最高  
**想定工数**: 8-10 人日

#### 実装内容

| タスク | 詳細 | 期間 |
|--------|------|------|
| **LogUtility 拡張** | 5段階ログレベル実装 (Debug/Info/Warning/Error/Fatal) | 2-3日 |
| **DebugLogger 実装** | ファイル出力機能（.log 生成） | 2-3日 |
| **全 Debug.Log 置換** | Assets/Scripts/ 内の全 Debug  LogUtility/DebugLogger へ | 3-4日 |

**チェックリスト**:
- [ ] LogUtility.cs で5段階ログレベル実装
- [ ] Application.persistentDataPath へログファイル出力
- [ ] Development Build でのログ表示フィルタ
- [ ] すべての Debug.Log* を置換済み
- [ ] 既存 Debug.Log は出力されないことを確認

---

### 1.2 YAML バリデーション システム

**目的**: ステージデータの不整合による進行不能バグを事前防止  
**優先度**:  最高  
**想定工数**: 6-8 人日

#### 実装内容

| タスク | 詳細 | 期間 |
|--------|------|------|
| **YamlValidator クラス実装** | 検証ロジック実装 | 2-3日 |
| **Editor スクリプト作成** | 事前チェック UI | 2日 |
| **既存 YAML ファイル検証** | pathmakers, itemlists, stages, goals, boards | 2日 |

**検証項目**:
- pathmakers: マーカー名一意性、座標形式確認
- itemlists: item_name 定義、コスト/効果バランス
- stages: stage_id 一意性、参照マーカー確認
- goals: goal_type 妥当性確認
- boards: board_size、spawn_point 有効性確認

**チェックリスト**:
- [ ] YamlValidator クラス実装完了
- [ ] Editor スクリプトでの事前チェック機能
- [ ] 既存 YAML ファイルの検証修復完了

---

### 1.3 Resources.Load 統一化

**目的**: アセット管理の一元化、メモリ効率化  
**優先度**:  高  
**想定工数**: 4-6 人日

#### 実装内容

| タスク | 詳細 | 期間 |
|--------|------|------|
| **Resources.Load 全検索** | grep で Assets/Scripts/ を検索 | 1日 |
| **PrefabManager へ統一** | 非対応部分を PrefabManager で統一 | 2-3日 |
| **不要アセット削除** | 使用されないアセットを整理 | 1-2日 |

**チェックリスト**:
- [ ] すべての Resources.Load を特定
- [ ] PrefabManager へ統一完了
- [ ] メモリプロファイルで改善確認

---

### 1.4 UI 改善 & 複数解像度テスト

**目的**: UI レスポンシビリティ向上、複数環境対応  
**優先度**:  高  
**想定工数**: 4-6 人日

#### 実装内容

| タスク | 詳細 | 期間 |
|--------|------|------|
| **キャンバスレイアウト改善** | Canvas Size の動的変更機能 | 2日 |
| **複数画面解像度テスト** | 19201080, 1280720 対応 | 2-3日 |

**テスト項目**:
- [ ] 19201080 での表示確認
- [ ] 1280720 での表示確認
- [ ] タブレット解像度での表示確認
- [ ] 最小フォントサイズの確認

---

## Phase 2: ステージデザイン & ゲーム性調整 (2026-03-初旬 ～ 2026-03-中旬)

### 2.1 ステージレベルデザイン (5段階)

**目的**: チュートリアル  中級  上級への段階的進行  
**優先度**:  最高  
**想定工数**: 20-25 人日

#### ステージ構成

| ステージ | 難易度 | 目的 | 工数 |
|---------|--------|------|------|
| **Stage 1: チュートリアル** | Easy | タワー配置基本操作 | 3日 |
| **Stage 2: 基本マップ** | Normal | 複数敵タイプ対応 | 4日 |
| **Stage 3: 複合マップ** | Normal | 複合タワー戦略 | 4日 |
| **Stage 4: 高難度マップ** | Hard | 全タイプ敵出現 | 5日 |
| **Stage 5: エクストラ** | Very Hard | リプレイ性強化 | 5日 |

#### ステージ設計チェックリスト

**すべてのステージで確認**:
- [ ] PLATEAU 地形データとの整合性
- [ ] スポーン点配置の妥当性
- [ ] タワー配置可能エリアの明確化
- [ ] ゴール到達不可能なバグがないか
- [ ] ウェーブ難易度のバランス
- [ ] パフォーマンス測定（FPS 60+ 安定）

---

### 2.2 ゲームバランス調整

**目的**: 難易度の適切な段階化、リプレイ性向上  
**優先度**:  最高  
**想定工数**: 10-12 人日

#### バランス調整項目

| 要素 | 調整内容 | 指標 |
|------|---------|------|
| **ユニット コスト** | タワーのコスト効果比 | 平均プレイ時間 10-15分 |
| **敵難易度** | 敵 HP速度 | クリア成功率 60-70% |
| **リソース配分** | 初期ゴールド増加率 | 中盤以降の選択肢確保 |

**テスト方法**:
`
各ステージ 10回プレイ
 クリア率、平均時間を測定
 データに基づいてパラメータ調整
\\\

**チェックリスト**:
- [ ] 全ステージ 10回プレイテスト完了
- [ ] コスト表調整完了
- [ ] 敵パラメータ調整完了

---

### 2.3 カメラ制御の最適化

**目的**: ユーザー体験向上、操作感改善  
**優先度**:  高  
**想定工数**: 4-5 人日

#### 実装内容

| タスク | 詳細 | 期間 |
|--------|------|------|
| **ズームレベル再調整** | 動作感速度の改善 | 2日 |
| **視界障害物対応** | 上下反転バグの修正 | 2日 |

**テスト項目**:
- [ ] ズーム速度が自然か
- [ ] 障害物衝突時に上下反転しないか
- [ ] 移動時のラグがないか

---

## Phase 3: QA & リリース準備 (2026-03-中旬 ～ 2026-03-末)

### 3.1 進行不能バグの排除

**目的**: ゲーム進行を阻害するバグを 100% 解決  
**優先度**:  最高  
**想定工数**: 12-15 人日

#### テスト項目

| バグカテゴリ | テスト内容 |
|-------------|----------|
| **クリア不可** | 敵が詰まる、タワー配置不可、ゴール到達不可 |
| **UI 非応答** | ボタン無反応、メニュー固定 |
| **データ破損** | ステージロード失敗、YAML パース失敗 |
| **クラッシュ** | NullReferenceException、OutOfMemory |

**テスト実行方法**:
`
Development Build で実行
 すべてのステージ完全攻略プレイ
 ログ確認（Error/Exception なし）
 異常終了なし
\\\

**チェックリスト**:
- [ ] 全ステージクリア可能
- [ ] 10時間以上連続プレイでクラッシュなし
- [ ] エラーログ出力なし

---

### 3.2 パフォーマンス確保

**目的**: 60 FPS 安定、メモリ効率化  
**優先度**:  最高  
**想定工数**: 6-8 人日

#### 測定項目

| 項目 | 目標値 |
|------|--------|
| **フレームレート** | 60 FPS（最小 45 FPS） |
| **メモリ使用量** | < 1GB |
| **ロード時間** | < 3秒/ステージ |

**チェックリスト**:
- [ ] Profiler で FPS 測定
- [ ] Memory Profiler で検証
- [ ] GameObject.Find() 廃止完了
- [ ] Texture 圧縮設定確認

---

### 3.3 ユーザー向けドキュメント

**目的**: テストユーザーの利便性向上  
**優先度**:  高  
**想定工数**: 3-4 人日

#### ドキュメント種別

| ドキュメント | 内容 |
|-------------|------|
| **README_Prototype.md** | ゲーム概要操作方法 |
| **GAMEPLAY_GUIDE.md** | ゲーム進行ガイド |
| **KNOWN_ISSUES.md** | 既知の問題回避方法 |
| **BUG_REPORT_TEMPLATE.md** | バグ報告テンプレート |
| **LOG_GUIDE.md** | ログファイル確認方法 |

**チェックリスト**:
- [ ] 5つのドキュメント作成完了
- [ ] GitHub Wiki に掲載

---

### 3.4 リリース前最終チェック

**目的**: 本番環境での動作確認  
**優先度**:  最高  
**想定工数**: 3-4 人日

#### チェックリスト

- [ ] **ビルド確認**
  - [ ] Release Build 成功
  - [ ] Windows 10/11 で起動確認
  
- [ ] **バージョン情報**
  - [ ] Version 0.1.0-alpha に設定
  - [ ] CHANGELOG.md 記載
  
- [ ] **バグ登録**
  - [ ] 発見バグを GitHub Issues に登録
  - [ ] Priority を設定

---

### 3.5 リリース & テストユーザー対応

**目的**: 安定した初期版配布  
**優先度**:  最高  
**想定工数**: 2-3 人日

#### リリースプロセス

`
1. Git tag: v0.1.0-alpha 作成
2. Release notes 作成
3. テストユーザー配布（GitHub Releases）
4. バグ報告チャネル設定
\\\

**チェックリスト**:
- [ ] v0.1.0-alpha tag 作成
- [ ] Release notes 作成完了
- [ ] テストユーザー配布完了

---

##  工数配分（リアル）

\\\
Phase 0: 構成命名規則統一
  - ビルド検証: 2-3人日
  - 最終検証: 2-3人日
  [計: 4-6人日]  Recovery フェーズと重複

Phase 1: コア機能整備 (約 22-30 人日)
  - ログシステム: 8-10人日
  - YAML バリデーション: 6-8人日
  - リソース管理: 4-6人日
  - UI/解像度: 4-6人日

Phase 2: ステージ & バランス (約 30-37 人日)
  - ステージ設計: 20-25人日
  - バランス調整: 10-12人日

Phase 3: QA & リリース (約 24-32 人日)
  - 進行不能バグ排除: 12-15人日
  - パフォーマンス: 6-8人日
  - ドキュメント: 3-4人日
  - リリース: 2-3人日
  - 最終チェック: 3-4人日

【合計】約 80-103 人日（1人チームで 4-5 週間）
\\\

---

##  成功指標

| 指標 | 目標値 |
|------|--------|
| **ゲームプレイ時間** | 10-15分/ステージ |
| **クリア成功率** | 初見 50-60% |
| **クラッシュ率** | 0% |
| **フレームレート** | 60 FPS (45 FPS最小) |
| **メモリ使用量** | < 1 GB |
| **ステージ数** | 5（チュートリアル含む） |
| **ドキュメント** | 5ファイル以上 |

---

##  関連ドキュメント

| ドキュメント | 目的 |
|------------|------|
| [AGENTS.md](../AGENTS.md) | プロジェクト開発ガイドライン |
| [docs/architecture.md](architecture.md) | システムアーキテクチャ（4層構造） |
| [docs/coding-standards.md](coding-standards.md) | C# コーディング規約 |
| [docs/scripts-folder-structure-completed.md](scripts-folder-structure-completed.md) | フォルダ構成 |

---

**ロードマップ更新日**: 2026-01-26  
**現在段階**: Phase 0 - 構成命名規則統一（進行中）  
**想定完了日**: 2026-03-31
